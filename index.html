<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>FLIP</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --gold:#f0c040; --gold2:#ffe47a; --gold3:#b87800;
  --green:#00ffaa; --red:#ff2255;
  --bg:#05050e; --text:#eeeeff; --muted:#3a3a5c;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{width:100%;height:100%}
body{
  width:100%;height:100%;
  min-height:100dvh;
  overflow:hidden;
  background:var(--bg);
  font-family:'Rajdhani',sans-serif;
  color:var(--text);
  display:flex;
  align-items:center;
  justify-content:center;
}

/* ‚îÄ‚îÄ BG CANVASES ‚îÄ‚îÄ */
#bgc,#ptc{position:fixed;inset:0;pointer-events:none}
#bgc{z-index:0}
#ptc{z-index:12}

/* ‚îÄ‚îÄ OVERLAYS ‚îÄ‚îÄ */
#flash{position:fixed;inset:0;opacity:0;pointer-events:none;z-index:20}
#flash.go{animation:fgo 0.55s ease-out forwards}
@keyframes fgo{0%{opacity:0.22}100%{opacity:0}}

#bigword{
  position:fixed;top:50%;left:50%;
  transform:translate(-50%,-50%) scale(0);
  font-family:'Cinzel',serif;font-weight:900;
  font-size:clamp(60px,16vw,130px);letter-spacing:8px;
  pointer-events:none;opacity:0;z-index:25;
  text-align:center;
}
#bigword.win{color:var(--green);text-shadow:0 0 40px rgba(0,255,170,.9),0 0 100px rgba(0,255,170,.4);animation:bwpop 1.1s cubic-bezier(.34,1.56,.64,1) forwards}
#bigword.lose{color:var(--red);text-shadow:0 0 40px rgba(255,34,85,.9),0 0 100px rgba(255,34,85,.4);animation:bwpop 1.1s cubic-bezier(.34,1.56,.64,1) forwards}
@keyframes bwpop{
  0%{opacity:0;transform:translate(-50%,-50%) scale(.2)}
  35%{opacity:1;transform:translate(-50%,-50%) scale(1.08)}
  60%{opacity:1;transform:translate(-50%,-50%) scale(1)}
  100%{opacity:0;transform:translate(-50%,-50%) scale(.75) translateY(-60px)}
}

.floater{
  position:fixed;font-family:'Cinzel',serif;font-weight:900;font-size:36px;
  pointer-events:none;z-index:22;transform:translateX(-50%);
  animation:floatup 1.2s ease-out forwards;
}
@keyframes floatup{
  0%{opacity:1;transform:translateX(-50%) translateY(0) scale(1)}
  45%{opacity:1;transform:translateX(-50%) translateY(-55px) scale(1.2)}
  100%{opacity:0;transform:translateX(-50%) translateY(-110px) scale(.8)}
}

/* ‚îÄ‚îÄ MAIN CARD ‚îÄ‚îÄ */
.card{
  position:relative;z-index:2;
  width:min(430px,96vw);
  /* Fit vertically with safe headroom */
  max-height:min(740px,96dvh);
  padding:clamp(14px,3vw,24px) clamp(14px,4vw,26px) clamp(12px,2.5vw,20px);
  display:flex;flex-direction:column;align-items:center;
  gap:clamp(8px,1.8vh,16px);

  background:rgba(6,6,18,.9);
  border-radius:28px;
  border:1px solid rgba(240,192,64,.15);
  backdrop-filter:blur(40px);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.06),
    inset 0 0 0 1px rgba(240,192,64,.05),
    0 50px 100px rgba(0,0,0,.85),
    0 0 120px rgba(240,192,64,.03);
  animation:cardin .85s cubic-bezier(.16,1,.3,1) both;
}
@keyframes cardin{from{opacity:0;transform:translateY(44px) scale(.93)}to{opacity:1;transform:none}}

/* Spinning conic border */
@property --a{syntax:'<angle>';initial-value:0deg;inherits:false}
.card::before{
  content:'';position:absolute;inset:-1px;border-radius:29px;
  background:conic-gradient(from var(--a), transparent 0%,rgba(240,192,64,.55) 8%,transparent 18%);
  -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
  -webkit-mask-composite:xor;mask-composite:exclude;
  padding:1px;opacity:.55;
  animation:borderspin 5s linear infinite;
}
@keyframes borderspin{to{--a:360deg}}

/* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
.hdr{text-align:center;animation:sdown .65s .15s both}
@keyframes sdown{from{opacity:0;transform:translateY(-18px)}to{opacity:1;transform:none}}
.hdr-row{display:flex;align-items:center;justify-content:center;gap:12px}
.hdr-bar{width:clamp(24px,6vw,44px);height:1px;background:linear-gradient(90deg,transparent,var(--gold));opacity:.45}
.hdr-bar.r{transform:scaleX(-1)}
h1{
  font-family:'Cinzel',serif;font-weight:900;
  font-size:clamp(34px,9vw,54px);
  letter-spacing:clamp(6px,2vw,14px);
  background:linear-gradient(180deg,var(--gold2) 0%,var(--gold) 55%,var(--gold3) 100%);
  -webkit-background-clip:text;background-clip:text;color:transparent;
  animation:hglow 3s ease-in-out infinite;
}
@keyframes hglow{
  0%,100%{filter:drop-shadow(0 0 14px rgba(240,192,64,.45))}
  50%{filter:drop-shadow(0 0 28px rgba(240,192,64,.95)) drop-shadow(0 0 55px rgba(240,192,64,.35))}
}
.hdr-sub{
  margin-top:3px;font-size:clamp(8px,2vw,10px);
  letter-spacing:clamp(3px,1vw,5px);color:var(--muted);
  text-transform:uppercase;font-weight:700;
}

/* ‚îÄ‚îÄ DIVIDER ‚îÄ‚îÄ */
.div{width:100%;height:1px;background:linear-gradient(90deg,transparent,rgba(240,192,64,.12),transparent);flex-shrink:0}

/* ‚îÄ‚îÄ SCOREBOARD ‚îÄ‚îÄ */
.scores{
  display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;
  width:100%;flex-shrink:0;
  animation:sup .6s .3s both;
}
@keyframes sup{from{opacity:0;transform:translateY(18px)}to{opacity:1;transform:none}}
.sc{
  background:rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.07);
  border-radius:14px;
  padding:clamp(8px,1.5vh,12px) 6px clamp(6px,1.2vh,10px);
  text-align:center;position:relative;overflow:hidden;
}
.sc::after{
  content:'';position:absolute;bottom:0;left:50%;transform:translateX(-50%);
  width:55%;height:2px;border-radius:2px;
  background:linear-gradient(90deg,transparent,var(--ac,#fff),transparent);opacity:.5;
}
.sc.w{--ac:var(--green)}.sc.l{--ac:var(--red)}.sc.s{--ac:var(--gold)}
.sc-lbl{font-size:clamp(7px,1.5vw,9px);letter-spacing:3px;text-transform:uppercase;color:var(--muted);font-weight:700;margin-bottom:2px}
.sc-val{
  font-family:'Cinzel',serif;
  font-size:clamp(22px,6vw,32px);letter-spacing:1px;line-height:1.05;
}
.sc.w .sc-val{color:var(--green)}.sc.l .sc-val{color:var(--red)}.sc.s .sc-val{color:var(--gold)}
.sc-val.pop{animation:vpop .38s cubic-bezier(.34,1.56,.64,1)}
@keyframes vpop{0%{transform:scale(1)}50%{transform:scale(1.5)}100%{transform:scale(1)}}
.spill{
  position:absolute;top:-6px;right:-6px;
  background:var(--gold);color:#000;
  font-family:'Cinzel',serif;font-size:9px;font-weight:700;
  letter-spacing:1px;padding:2px 6px;border-radius:20px;
  opacity:0;transform:scale(.4) rotate(12deg);
  transition:opacity .3s,transform .4s cubic-bezier(.34,1.56,.64,1);
  pointer-events:none;white-space:nowrap;
}
.spill.on{opacity:1;transform:scale(1) rotate(-4deg)}

/* ‚îÄ‚îÄ ARENA ‚îÄ‚îÄ */
.arena{
  position:relative;
  width:min(220px,52vw);
  height:min(220px,52vw);
  flex-shrink:0;
  display:flex;align-items:center;justify-content:center;
  animation:sup .6s .45s both;
}
/* Orbiting rings */
.ring{position:absolute;border-radius:50%;border:1px solid rgba(240,192,64,.09)}
.ring:nth-child(1){inset:-14px;animation:rspin 16s linear infinite}
.ring:nth-child(2){inset:-26px;border-color:rgba(240,192,64,.05);animation:rspin 26s linear infinite reverse}
.ring:nth-child(3){inset:-40px;border-color:rgba(80,100,255,.04);animation:rspin 40s linear infinite}
.ring::before,.ring::after{
  content:'';position:absolute;width:5px;height:5px;border-radius:50%;
  background:var(--gold);opacity:.65;
  box-shadow:0 0 6px var(--gold),0 0 14px var(--gold);
}
.ring::before{top:50%;left:-2.5px;transform:translateY(-50%)}
.ring::after{top:-2.5px;left:50%;transform:translateX(-50%)}
@keyframes rspin{to{transform:rotate(360deg)}}

.adisc{position:absolute;inset:0;border-radius:50%;transition:background .5s;pointer-events:none}
.cshadow{
  position:absolute;bottom:3%;left:50%;transform:translateX(-50%);
  width:50%;height:7%;
  background:radial-gradient(ellipse,rgba(0,0,0,.7),transparent 70%);
  border-radius:50%;filter:blur(5px);
  transition:opacity .4s;
}

/* ‚îÄ‚îÄ COIN ‚îÄ‚îÄ */
.cstage{perspective:1100px;width:62%;height:62%;position:relative}
.coin{
  width:100%;height:100%;
  transform-style:preserve-3d;position:relative;
  animation:idleH 3.5s ease-in-out infinite;
}
@keyframes idleH{0%,100%{transform:rotateY(0deg) translateY(0px) rotateX(5deg)}50%{transform:rotateY(0deg) translateY(-10px) rotateX(2deg)}}
@keyframes idleT{0%,100%{transform:rotateY(180deg) translateY(0px) rotateX(5deg)}50%{transform:rotateY(180deg) translateY(-10px) rotateX(2deg)}}
.coin.tails{animation:idleT 3.5s ease-in-out infinite}
.coin.flip-h{animation:flipH 1.05s cubic-bezier(.22,.61,.36,1) forwards}
.coin.flip-t{animation:flipT 1.05s cubic-bezier(.22,.61,.36,1) forwards}
@keyframes flipH{
  0%{transform:rotateY(0deg) translateY(0px) scale(1)}
  18%{transform:rotateY(300deg) translateY(-28px) scale(1.08)}
  40%{transform:rotateY(600deg) translateY(-55px) scale(1.16)}
  60%{transform:rotateY(900deg) translateY(-28px) scale(1.08)}
  77%{transform:rotateY(1080deg) translateY(10px) scale(.96)}
  88%{transform:rotateY(1080deg) translateY(-5px) scale(1.02)}
  95%{transform:rotateY(1080deg) translateY(2px) scale(.99)}
  100%{transform:rotateY(1080deg) translateY(0px) scale(1)}
}
@keyframes flipT{
  0%{transform:rotateY(0deg) translateY(0px) scale(1)}
  18%{transform:rotateY(300deg) translateY(-28px) scale(1.08)}
  40%{transform:rotateY(600deg) translateY(-55px) scale(1.16)}
  60%{transform:rotateY(900deg) translateY(-28px) scale(1.08)}
  77%{transform:rotateY(900deg) translateY(10px) scale(.96)}
  88%{transform:rotateY(900deg) translateY(-5px) scale(1.02)}
  95%{transform:rotateY(900deg) translateY(2px) scale(.99)}
  100%{transform:rotateY(900deg) translateY(0px) scale(1)}
}

/* Coin faces */
.face{
  position:absolute;inset:0;border-radius:50%;
  backface-visibility:hidden;-webkit-backface-visibility:hidden;
  display:flex;align-items:center;justify-content:center;
  overflow:hidden;
}
/* HEADS - warm bright gold */
.face.h{
  background:radial-gradient(circle at 36% 30%, #fff3c0 0%, #f7d050 20%, #d49010 55%, #8a5800 100%);
  box-shadow:
    inset 0 -8px 22px rgba(0,0,0,.38),
    inset 6px 6px 18px rgba(255,255,255,.52),
    inset -2px -2px 8px rgba(0,0,0,.15),
    0 14px 55px rgba(247,208,80,.6),
    0 0 0 3px rgba(247,208,80,.2),
    0 0 0 7px rgba(247,208,80,.07);
}
/* TAILS - darker antique gold */
.face.t{
  background:radial-gradient(circle at 36% 30%, #eed898 0%, #c88c0c 28%, #7a5000 62%, #3e2800 100%);
  box-shadow:
    inset 0 -8px 22px rgba(0,0,0,.45),
    inset 5px 5px 16px rgba(255,255,255,.28),
    inset -2px -2px 8px rgba(0,0,0,.25),
    0 14px 55px rgba(200,140,12,.45),
    0 0 0 3px rgba(200,140,12,.15),
    0 0 0 7px rgba(200,140,12,.05);
  transform:rotateY(180deg);
}
/* Inner rim detail */
.face::after{
  content:'';position:absolute;inset:6px;border-radius:50%;
  border:2px solid rgba(0,0,0,.2);
  box-shadow:inset 0 0 0 1.5px rgba(255,255,255,.14);
  pointer-events:none;
}
/* Rotating shine */
.shine{
  position:absolute;inset:0;border-radius:50%;pointer-events:none;z-index:2;
  background:conic-gradient(from 0deg, transparent 0%,transparent 62%,rgba(255,255,255,.2) 72%,transparent 82%);
  animation:shineit 3.5s linear infinite;
}
@keyframes shineit{to{transform:rotate(360deg)}}

/* SVG art */
.face svg{width:68%;height:68%;position:relative;z-index:1;filter:drop-shadow(0 2px 5px rgba(0,0,0,.4))}

/* Shockwave */
.shockw{position:absolute;inset:0;border-radius:50%;border:2.5px solid currentColor;opacity:0;pointer-events:none;z-index:5}
.shockw.fire{animation:shock .72s ease-out forwards}
@keyframes shock{0%{opacity:.85;transform:scale(.65)}100%{opacity:0;transform:scale(2.7)}}

/* ‚îÄ‚îÄ RESULT ‚îÄ‚îÄ */
.rzone{
  height:clamp(34px,5vh,48px);
  display:flex;align-items:center;justify-content:center;
  width:100%;flex-shrink:0;
  animation:sup .6s .52s both;
}
.rtxt{
  font-family:'Cinzel',serif;font-weight:700;
  font-size:clamp(13px,3.5vw,19px);
  letter-spacing:clamp(2px,1vw,5px);
  white-space:nowrap;
  opacity:0;transform:scale(.78) translateY(8px);
  transition:opacity .32s,transform .38s cubic-bezier(.34,1.56,.64,1),filter .3s;
}
.rtxt.show{opacity:1;transform:scale(1) translateY(0)}
.rtxt.win{color:var(--green);filter:drop-shadow(0 0 12px rgba(0,255,170,.75))}
.rtxt.lose{color:var(--red);filter:drop-shadow(0 0 12px rgba(255,34,85,.75))}
.rtxt.busy{color:var(--gold);filter:drop-shadow(0 0 10px rgba(240,192,64,.6))}

/* ‚îÄ‚îÄ BUTTONS ‚îÄ‚îÄ */
.brow{
  display:grid;grid-template-columns:1fr 1fr;gap:10px;
  width:100%;flex-shrink:0;
  animation:sup .6s .58s both;
}
.fbtn{
  position:relative;overflow:hidden;
  padding:clamp(13px,2.5vh,19px) 10px clamp(10px,2vh,15px);
  border:none;border-radius:16px;cursor:pointer;
  font-family:'Cinzel',serif;font-weight:700;
  font-size:clamp(16px,4.5vw,22px);
  letter-spacing:clamp(2px,1vw,4px);
  transition:transform .2s cubic-bezier(.34,1.56,.64,1),box-shadow .2s,opacity .2s;
}
/* Shimmer */
.fbtn::after{
  content:'';position:absolute;top:0;left:-120%;width:65%;height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.15),transparent);
  transform:skewX(-18deg);transition:left .5s;
}
.fbtn:hover:not(:disabled)::after{left:130%}
.fbtn:hover:not(:disabled){transform:translateY(-4px) scale(1.03)}
.fbtn:active:not(:disabled){transform:scale(.97)}
.fbtn:disabled{opacity:.28;cursor:not-allowed;transform:none!important}

.fh{
  background:linear-gradient(148deg,#091c0f,#050c07);
  color:var(--green);border:1px solid rgba(0,255,170,.2);
  box-shadow:0 4px 22px rgba(0,255,170,.07),inset 0 1px 0 rgba(0,255,170,.12);
}
.fh:hover:not(:disabled){box-shadow:0 10px 34px rgba(0,255,170,.2),inset 0 1px 0 rgba(0,255,170,.2),0 0 0 1px rgba(0,255,170,.14)}
.ft{
  background:linear-gradient(148deg,#1c0910,#0c0507);
  color:var(--red);border:1px solid rgba(255,34,85,.2);
  box-shadow:0 4px 22px rgba(255,34,85,.07),inset 0 1px 0 rgba(255,34,85,.12);
}
.ft:hover:not(:disabled){box-shadow:0 10px 34px rgba(255,34,85,.2),inset 0 1px 0 rgba(255,34,85,.2),0 0 0 1px rgba(255,34,85,.14)}
.btn-lbl{display:block}
.btn-sub{
  display:block;font-family:'Rajdhani',sans-serif;font-weight:600;
  font-size:clamp(7px,1.5vw,9px);letter-spacing:clamp(1px,.5vw,3px);
  opacity:.38;margin-top:3px;text-transform:uppercase;
}

/* ‚îÄ‚îÄ RESET ‚îÄ‚îÄ */
.reset{
  flex-shrink:0;
  background:none;border:1px solid rgba(255,255,255,.08);
  color:var(--muted);padding:clamp(7px,1.2vh,10px) clamp(20px,5vw,32px);
  border-radius:50px;cursor:pointer;
  font-family:'Rajdhani',sans-serif;font-weight:700;
  font-size:clamp(9px,2vw,11px);letter-spacing:3px;text-transform:uppercase;
  transition:all .25s;
  animation:sup .6s .65s both;
}
.reset:hover{
  border-color:rgba(240,192,64,.3);color:var(--gold);
  background:rgba(240,192,64,.05);letter-spacing:4px;
  box-shadow:0 0 20px rgba(240,192,64,.08);
}
</style>
</head>
<body>

<canvas id="bgc"></canvas>
<canvas id="ptc"></canvas>
<div id="flash"></div>
<div id="bigword"></div>

<div class="card">

  <div class="hdr">
    <div class="hdr-row">
      <div class="hdr-bar"></div>
      <h1>FLIP</h1>
      <div class="hdr-bar r"></div>
    </div>
    <div class="hdr-sub">call it in the air</div>
  </div>

  <div class="div"></div>

  <div class="scores">
    <div class="sc w">
      <div class="sc-lbl">Wins</div>
      <div class="sc-val" id="wv">0</div>
    </div>
    <div class="sc l">
      <div class="sc-lbl">Losses</div>
      <div class="sc-val" id="lv">0</div>
    </div>
    <div class="sc s" style="position:relative">
      <div class="sc-lbl">Streak</div>
      <div class="sc-val" id="sv">0</div>
      <div class="spill" id="spill">üî•</div>
    </div>
  </div>

  <div class="arena" id="arena">
    <div class="ring"></div>
    <div class="ring"></div>
    <div class="ring"></div>
    <div class="adisc" id="adisc"></div>
    <div class="cshadow" id="cshadow"></div>
    <div class="cstage">
      <div class="coin" id="coin">

        <!-- HEADS -->
        <div class="face h">
          <div class="shine"></div>
          <svg viewBox="0 0 100 100" fill="none">
            <!-- Crown -->
            <path d="M22 72 L28 46 L40 60 L50 32 L60 60 L72 46 L78 72 Z"
              fill="rgba(0,0,0,.28)" stroke="rgba(255,255,255,.22)" stroke-width="1.2" stroke-linejoin="round"/>
            <!-- Crown highlights -->
            <path d="M22 72 L28 46 L40 60 L50 32" fill="none" stroke="rgba(255,255,255,.1)" stroke-width=".6"/>
            <!-- Top gem -->
            <circle cx="50" cy="32" r="4.5" fill="rgba(255,60,60,.75)" stroke="rgba(0,0,0,.3)" stroke-width="1"/>
            <circle cx="50" cy="31" r="1.8" fill="rgba(255,180,180,.6)"/>
            <!-- Side gems -->
            <circle cx="40" cy="60" r="3" fill="rgba(60,160,255,.75)" stroke="rgba(0,0,0,.3)" stroke-width=".8"/>
            <circle cx="60" cy="60" r="3" fill="rgba(60,160,255,.75)" stroke="rgba(0,0,0,.3)" stroke-width=".8"/>
            <!-- Crown base bar -->
            <rect x="21" y="70" width="58" height="8" rx="2.5" fill="rgba(0,0,0,.3)" stroke="rgba(255,255,255,.18)" stroke-width=".8"/>
            <rect x="25" y="72" width="8" height="4" rx="1" fill="rgba(255,255,255,.1)"/>
            <rect x="46" y="72" width="8" height="4" rx="1" fill="rgba(255,255,255,.1)"/>
            <rect x="67" y="72" width="8" height="4" rx="1" fill="rgba(255,255,255,.1)"/>
            <!-- Star sparkle above crown -->
            <path d="M50 22 L51.4 26.5 L56.2 26.5 L52.4 29.2 L53.8 33.7 L50 31 L46.2 33.7 L47.6 29.2 L43.8 26.5 L48.6 26.5 Z"
              fill="rgba(255,250,200,.55)"/>
          </svg>
        </div>

        <!-- TAILS -->
        <div class="face t">
          <div class="shine"></div>
          <svg viewBox="0 0 100 100" fill="none">
            <!-- Eagle body -->
            <ellipse cx="50" cy="58" rx="13" ry="15" fill="rgba(0,0,0,.3)" stroke="rgba(255,255,255,.2)" stroke-width="1"/>
            <!-- Chest feather lines -->
            <path d="M43 52 Q50 56 57 52" stroke="rgba(255,255,255,.12)" stroke-width=".8"/>
            <path d="M42 56 Q50 60 58 56" stroke="rgba(255,255,255,.12)" stroke-width=".8"/>
            <path d="M42 61 Q50 65 58 61" stroke="rgba(255,255,255,.12)" stroke-width=".8"/>
            <!-- Left wing -->
            <path d="M37 52 Q20 42 14 34 Q24 40 37 48 Z" fill="rgba(0,0,0,.28)" stroke="rgba(255,255,255,.2)" stroke-width="1"/>
            <path d="M37 52 Q19 48 14 46" stroke="rgba(255,255,255,.12)" stroke-width=".8"/>
            <path d="M37 56 Q19 54 14 54" stroke="rgba(255,255,255,.1)" stroke-width=".7"/>
            <!-- Right wing -->
            <path d="M63 52 Q80 42 86 34 Q76 40 63 48 Z" fill="rgba(0,0,0,.28)" stroke="rgba(255,255,255,.2)" stroke-width="1"/>
            <path d="M63 52 Q81 48 86 46" stroke="rgba(255,255,255,.12)" stroke-width=".8"/>
            <path d="M63 56 Q81 54 86 54" stroke="rgba(255,255,255,.1)" stroke-width=".7"/>
            <!-- Head -->
            <circle cx="50" cy="37" r="10" fill="rgba(0,0,0,.28)" stroke="rgba(255,255,255,.22)" stroke-width="1"/>
            <!-- Beak -->
            <path d="M50 41 L59 45 L50 47 Z" fill="rgba(255,190,0,.45)" stroke="rgba(0,0,0,.35)" stroke-width=".8"/>
            <!-- Eye -->
            <circle cx="54" cy="35.5" r="2.8" fill="rgba(255,200,40,.65)"/>
            <circle cx="54.5" cy="35.5" r="1.3" fill="rgba(0,0,0,.75)"/>
            <circle cx="54" cy="34.8" r=".5" fill="rgba(255,255,255,.6)"/>
            <!-- Talons -->
            <path d="M44 73 L40 80 M44 73 L43 81 M44 73 L47 80" stroke="rgba(0,0,0,.45)" stroke-width="1.8" stroke-linecap="round"/>
            <path d="M56 73 L60 80 M56 73 L57 81 M56 73 L53 80" stroke="rgba(0,0,0,.45)" stroke-width="1.8" stroke-linecap="round"/>
            <!-- Stars -->
            <path d="M26 26 L27 29 L30.2 29 L27.6 31 L28.6 34.2 L26 32.4 L23.4 34.2 L24.4 31 L21.8 29 L25 29 Z" fill="rgba(255,255,200,.45)"/>
            <path d="M74 26 L75 29 L78.2 29 L75.6 31 L76.6 34.2 L74 32.4 L71.4 34.2 L72.4 31 L69.8 29 L73 29 Z" fill="rgba(255,255,200,.45)"/>
            <!-- Bottom banner ribbon -->
            <path d="M30 78 Q50 84 70 78 L68 84 Q50 90 32 84 Z" fill="rgba(0,0,0,.25)" stroke="rgba(255,255,255,.12)" stroke-width=".7"/>
          </svg>
        </div>

      </div>
    </div>
    <div class="shockw" id="sw"></div>
  </div>

  <div class="rzone">
    <div class="rtxt" id="res"></div>
  </div>

  <div class="div"></div>

  <div class="brow">
    <button class="fbtn fh" id="bh" onclick="play('Heads')">
      <span class="btn-lbl">HEADS</span>
      <span class="btn-sub">pick heads</span>
    </button>
    <button class="fbtn ft" id="bt" onclick="play('Tails')">
      <span class="btn-lbl">TAILS</span>
      <span class="btn-sub">pick tails</span>
    </button>
  </div>

  <button class="reset" onclick="resetGame()">‚Ü∫ &nbsp;Reset</button>

</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BACKGROUND ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const bgc=document.getElementById('bgc'), bgx=bgc.getContext('2d');
let W,H;
function rsB(){W=bgc.width=innerWidth;H=bgc.height=innerHeight}
rsB();addEventListener('resize',rsB);

const stars=Array.from({length:280},()=>({
  x:Math.random(),y:Math.random(),
  r:Math.random()*1.7+.2,
  a:Math.random()*.75+.1,
  sp:Math.random()*.004+.001,
  ph:Math.random()*Math.PI*2,
  tw:Math.random()>.35
}));
const shoots=[];
function addShoot(){
  if(Math.random()>.004)return;
  const angle=Math.random()*Math.PI*.4+Math.PI*.1; // mostly going right-down
  const spd=6+Math.random()*8;
  shoots.push({
    x:Math.random()*W*.7,y:Math.random()*H*.4,
    vx:Math.cos(angle)*spd,vy:Math.sin(angle)*spd,
    life:0,max:35+Math.random()*25
  });
}

let bgt=0;
function drawBg(){
  bgx.clearRect(0,0,W,H);
  const t=bgt*.00022;
  // Nebula
  [{x:.18+Math.sin(t)*.11,y:.32+Math.cos(t*.65)*.11,r:.45,c:'70,20,200'},
   {x:.76+Math.cos(t*.72)*.1,y:.18+Math.sin(t*1.1)*.09,r:.38,c:'210,60,30'},
   {x:.5+Math.sin(t*1.15)*.1,y:.78+Math.cos(t*.88)*.1,r:.35,c:'180,130,10'},
   {x:.88+Math.sin(t*.48)*.07,y:.55+Math.cos(t*1.25)*.09,r:.3,c:'20,90,200'}
  ].forEach(b=>{
    const g=bgx.createRadialGradient(b.x*W,b.y*H,0,b.x*W,b.y*H,b.r*Math.max(W,H));
    g.addColorStop(0,`rgba(${b.c},.1)`);
    g.addColorStop(.5,`rgba(${b.c},.04)`);
    g.addColorStop(1,`rgba(${b.c},0)`);
    bgx.fillStyle=g;bgx.fillRect(0,0,W,H);
  });
  // Stars
  stars.forEach(s=>{
    const p=s.tw?.2+.8*(.5+.5*Math.sin(bgt*s.sp*50+s.ph)):.65;
    bgx.beginPath();bgx.arc(s.x*W,s.y*H,s.r,0,Math.PI*2);
    bgx.fillStyle=`rgba(255,255,255,${s.a*p*.7})`;bgx.fill();
  });
  // Shooting stars
  addShoot();
  for(let i=shoots.length-1;i>=0;i--){
    const s=shoots[i];
    const a=(1-s.life/s.max)*.75;
    const len=20+Math.hypot(s.vx,s.vy)*1.8;
    const nx=s.vx/Math.hypot(s.vx,s.vy),ny=s.vy/Math.hypot(s.vx,s.vy);
    const grd=bgx.createLinearGradient(s.x,s.y,s.x-nx*len,s.y-ny*len);
    grd.addColorStop(0,`rgba(255,255,200,${a})`);
    grd.addColorStop(1,'rgba(255,255,200,0)');
    bgx.beginPath();bgx.moveTo(s.x,s.y);bgx.lineTo(s.x-nx*len,s.y-ny*len);
    bgx.strokeStyle=grd;bgx.lineWidth=1.5;bgx.stroke();
    s.x+=s.vx;s.y+=s.vy;s.life++;
    if(s.life>=s.max)shoots.splice(i,1);
  }
  bgt++;requestAnimationFrame(drawBg);
}
drawBg();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PARTICLES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const ptc=document.getElementById('ptc'),ptx=ptc.getContext('2d');
let pW,pH;
function rsP(){pW=ptc.width=innerWidth;pH=ptc.height=innerHeight}
rsP();addEventListener('resize',rsP);
let pts=[];

function burst(x,y,type){
  const win=type==='win';
  const pal=win
    ?['#00ffaa','#80ffcc','#ccffe8','#f0c040','#ffffff','#44ffdd']
    :['#ff2255','#ff6688','#ffaa88','#ff7700','#ffdd00'];
  const n=win?85:52;
  for(let i=0;i<n;i++){
    const ang=(Math.PI*2/n)*i+(Math.random()-.5)*.9;
    const spd=2+Math.random()*11;
    pts.push({
      x,y,
      vx:Math.cos(ang)*spd,vy:Math.sin(ang)*spd-Math.random()*6,
      size:win?4+Math.random()*8:3+Math.random()*5,
      type:Math.floor(Math.random()*4), // 0=circle,1=rect,2=tri,3=diamond
      color:pal[Math.floor(Math.random()*pal.length)],
      rot:Math.random()*Math.PI*2,rotS:(Math.random()-.5)*.42,
      life:0,max:72+Math.random()*65,
    });
  }
}

function drawPts(){
  ptx.clearRect(0,0,pW,pH);
  pts=pts.filter(p=>p.life<p.max);
  pts.forEach(p=>{
    p.x+=p.vx;p.y+=p.vy;p.vy+=.22;p.vx*=.987;
    p.rot+=p.rotS;p.life++;
    ptx.globalAlpha=Math.max(0,1-p.life/p.max);
    ptx.fillStyle=p.color;
    ptx.save();ptx.translate(p.x,p.y);ptx.rotate(p.rot);
    const s=p.size;
    if(p.type===1){ptx.fillRect(-s/2,-s/2,s,s)}
    else if(p.type===2){ptx.beginPath();ptx.moveTo(0,-s/2);ptx.lineTo(s/2,s/2);ptx.lineTo(-s/2,s/2);ptx.closePath();ptx.fill()}
    else if(p.type===3){ptx.beginPath();ptx.moveTo(0,-s/2);ptx.lineTo(s/2,0);ptx.lineTo(0,s/2);ptx.lineTo(-s/2,0);ptx.closePath();ptx.fill()}
    else{ptx.beginPath();ptx.arc(0,0,s/2,0,Math.PI*2);ptx.fill()}
    ptx.restore();
  });
  ptx.globalAlpha=1;requestAnimationFrame(drawPts);
}
drawPts();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê GAME ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let wins=0,losses=0,streak=0,busy=false;

const coinEl=document.getElementById('coin'),
      res=document.getElementById('res'),
      adisc=document.getElementById('adisc'),
      sw=document.getElementById('sw'),
      bw=document.getElementById('bigword'),
      flash=document.getElementById('flash'),
      shadow=document.getElementById('cshadow'),
      spill=document.getElementById('spill');

function play(guess){
  if(busy)return;
  busy=true;
  document.getElementById('bh').disabled=true;
  document.getElementById('bt').disabled=true;

  coinEl.className='coin';
  shadow.style.opacity='.18';
  res.className='rtxt busy show';res.textContent='FLIPPING...';
  adisc.style.background='radial-gradient(circle at 50% 40%,rgba(240,192,64,.14),transparent 70%)';

  void coinEl.offsetWidth;
  const outcome=Math.random()<.5?'Heads':'Tails';
  coinEl.classList.add(outcome==='Tails'?'flip-t':'flip-h');

  setTimeout(()=>{
    const won=guess===outcome;
    coinEl.className='coin'+(outcome==='Tails'?' tails':'');
    shadow.style.opacity='.7';

    const ar=document.getElementById('arena').getBoundingClientRect();
    const cx=ar.left+ar.width/2,cy=ar.top+ar.height/2;

    if(won){
      wins++;streak=streak>=0?streak+1:1;
      res.className='rtxt win show';
      res.textContent=`‚ú¶ ${outcome.toUpperCase()} ‚Äî YOU WIN ‚ú¶`;
      adisc.style.background='radial-gradient(circle at 50% 40%,rgba(0,255,170,.15),transparent 70%)';
      flash.style.background='#00ffaa';
      burst(cx,cy,'win');
      shockFire('var(--green)');
      popBig('WIN!','win');
      popVal('wv');
    }else{
      losses++;streak=streak<=0?streak-1:-1;
      res.className='rtxt lose show';
      res.textContent=`‚úó ${outcome.toUpperCase()} ‚Äî YOU LOSE`;
      adisc.style.background='radial-gradient(circle at 50% 40%,rgba(255,34,85,.15),transparent 70%)';
      flash.style.background='#ff2255';
      burst(cx,cy,'lose');
      shockFire('var(--red)');
      popBig('NOPE','lose');
      popVal('lv');
    }

    flash.classList.remove('go');void flash.offsetWidth;flash.classList.add('go');
    addFloat(cx,cy-55,won?'+1':'-1',won?'#00ffaa':'#ff2255');
    updateUI();save();
    busy=false;
    document.getElementById('bh').disabled=false;
    document.getElementById('bt').disabled=false;
  },1060);
}

function shockFire(c){
  sw.style.color=c;sw.classList.remove('fire');void sw.offsetWidth;sw.classList.add('fire');
}
function popBig(txt,cls){
  bw.textContent=txt;bw.className='';void bw.offsetWidth;bw.className=cls;
}
function addFloat(x,y,txt,c){
  const el=document.createElement('div');
  el.className='floater';el.textContent=txt;
  el.style.cssText=`left:${x}px;top:${y}px;color:${c};`;
  document.body.appendChild(el);
  setTimeout(()=>el.remove(),1300);
}
function popVal(id){
  const el=document.getElementById(id);
  el.classList.remove('pop');void el.offsetWidth;el.classList.add('pop');
}
function updateUI(){
  document.getElementById('wv').textContent=wins;
  document.getElementById('lv').textContent=losses;
  document.getElementById('sv').textContent=streak;
  const abs=Math.abs(streak);
  if(abs>=3){spill.textContent=streak>0?'üî• HOT':'ü•∂ COLD';spill.classList.add('on')}
  else spill.classList.remove('on');
}
function resetGame(){
  if(busy)return;
  wins=0;losses=0;streak=0;
  coinEl.className='coin';
  res.className='rtxt';res.textContent='';
  adisc.style.background='';
  shadow.style.opacity='.55';
  spill.classList.remove('on');
  updateUI();localStorage.removeItem('cf5');
}
function save(){localStorage.setItem('cf5',JSON.stringify({wins,losses,streak}))}
function load(){
  try{const d=JSON.parse(localStorage.getItem('cf5'));
    if(d){wins=d.wins||0;losses=d.losses||0;streak=d.streak||0;updateUI()}}catch(e){}
}
load();
</script>
</body>
</html>
